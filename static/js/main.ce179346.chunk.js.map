{"version":3,"sources":["api/api.js","components/Navbar/Navbar.module.css","utils/object-helpers.js","redux/users-reducer.js","redux/sidebar.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","hoc/withSuspense.js","serviceWorker.js","ReactotronConfig.js","index.js","assets/images/orig.gif","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","components/common/Preloader/Preloader.js"],"names":["__webpack_require__","d","__webpack_exports__","usersAPI","profileAPI","authAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","withCredentials","baseURL","headers","API-KEY","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","getStatus","updateStatus","status","put","me","login","email","password","rememberMe","logout","module","exports","nav","item","activeLink","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","Object","objectSpread","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","wrap","_context","prev","next","sent","count","totalCount","stop","this","_x","apply","followUnfollowFlow","_ref2","_callee2","apiMethod","actionCreator","_context2","resultCode","_x2","_x3","_x4","_x5","_ref3","_callee3","_context3","bind","_x6","_ref4","_callee4","_context4","_x7","usersReducer","state","action","followed","toConsumableArray","filter","id","sidebarReducer","isAuth","setAuthUserData","payload","getAuthUserData","_response$data$data","_login","authReducer","initializedSuccess","appReducer","initialized","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","_store_","Navbar","react_default","createElement","className","s","react_router_dom","to","activeClassName","active","News","props","Music","Settings","Header","header","src","loginBlock","onClick","HeaderContainer","components_Header_Header","React","Component","connect","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","name","validate","required","component","Input","error","style","formSummaryError","message","messages","stopSubmit","_error","react_router","formData","DialogsContainer","lazy","e","ProfileContainer","UsersContainer","App","initializeApp","Header_HeaderContainer","components_Navbar_Navbar","path","render","Suspense","fallback","components_Login_Login","Preloader","AppContainer","withRouter","promise","Promise","all","MainApp","basename","process","react_redux_es","Boolean","location","hostname","match","Reactotron","configure","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","p","formControl","FormControl","input","meta","child","C_Users_Home_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","hasError","touched","react__WEBPACK_IMPORTED_MODULE_1___default","styles","children","Textarea","restProps","assign","maxLengthCreator","value","maxLength","posts","likesCount","profile","setStatus","getUserProfile","C_Users_Home_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Home_react_way_of_samurai_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","addPostActionCreator","newPostText","newPost","C_Users_Home_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","C_Users_Home_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","postId","dialogs","sendMessageCreator","newMessageBody","body","C_Users_Home_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","C_Users_Home_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_assets_images_orig_gif__WEBPACK_IMPORTED_MODULE_0__","_assets_images_orig_gif__WEBPACK_IMPORTED_MODULE_0___default","n","react__WEBPACK_IMPORTED_MODULE_1__","backgroundColor","preloader"],"mappings":"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","file":"static/js/main.ce179346.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\"API-KEY\" : \"1b695bfd-3624-4267-a9a2-4bc716f20525\"}\r\n});\r\n\r\nexport const usersAPI ={\r\n    getUsers (currentPage=1, pageSize=10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    follow(userId){\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollow(userId){\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n\r\n    getProfile (userId) {\r\n        console.warn(\"Obsolete method. Please use profileAPI object\")\r\n        return profileAPI.getProfile(userId);\r\n\r\n    }\r\n}\r\n\r\nexport const profileAPI ={\r\n\r\n    getProfile (userId) {\r\n        return instance.get(`profile/`+userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get('profile/status/' + userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put('profile/status/',{status:status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n\r\n    login(email, password, rememberMe=false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n\r\n}\r\n\r\n\r\n\r\n// export const getUsers2 =(currentPage=1, pageSize=10)=> {\r\n//     return instance.get(`follow?page=${currentPage}&count=${pageSize}`\r\n//                 .then(response => {\r\n//             return response.data});\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__ofr1s\",\"item\":\"Navbar_item__1dv9q\",\"activeLink\":\"Navbar_activeLink__1Q-BE\"};","export const updateObjectInArray=(items, itemId, objPropName, newObjProps)=>{\r\n    return items.map(u=>{\r\n    if (u[objPropName] === itemId) {\r\n        return {...u, ...newObjProps}\r\n    }\r\n    return u;\r\n})}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users:[],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage:1,\r\n    isFetching:true,\r\n    followingInProgress:[]\r\n\r\n};\r\n\r\nconst  usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {...state,\r\n                                users: updateObjectInArray(state.users, action.userId,\"id\", {followed: true})\r\n            }\r\n            // case FOLLOW:\r\n            // return {...state,\r\n            //                     users: state.users.map(u=>{\r\n            //                         if (u.id === action.userId) {\r\n            //                             return {...u, followed:true}\r\n            //                         }\r\n            //                         return u;\r\n            //                     })\r\n            // }\r\n\r\n        case UNFOLLOW:\r\n            return {...state,\r\n                users: updateObjectInArray(state.users, action.userId,\"id\", {followed: false})\r\n            }\r\n            // case UNFOLLOW:\r\n            // return {...state,\r\n            //     users: state.users.map(u=>{\r\n            //         if (u.id === action.userId) {\r\n            //             return {...u, followed:false}\r\n            //         }\r\n            //         return u;\r\n            //     })\r\n            // }\r\n\r\n        case SET_USERS: {\r\n            return{...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return{...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return{...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return{...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const followSuccess = (userId) =>({  type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) =>({  type: UNFOLLOW, userId})\r\nexport const setUsers = (users) =>({  type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) =>({  type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) =>({  type: SET_TOTAL_USERS_COUNT, count:totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) =>({  type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) =>({  type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\r\n\r\n    export const requestUsers = (page, pageSize)=>{\r\n    return async (dispatch) =>{\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId)=>{\r\n    return async (dispatch) =>{\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n        }\r\n}\r\n\r\nexport const unfollow = (userId)=>{\r\n    return async (dispatch) =>{\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n        }\r\n}\r\n// export const follow = (userId)=>{\r\n//     return async(dispatch)=>{\r\n//         dispatch(toggleFollowingProgress(true,userId));\r\n//         let response=await usersAPI.follow(userId);\r\n//         if (response.data.resultCode == 0){\r\n//             dispatch(followSuccess(userId));\r\n//                     }\r\n//         dispatch(toggleFollowingProgress(false,userId));\r\n//     }\r\n// }\r\n//\r\n// export const unfollow = (userId)=>{\r\n//     return async(dispatch)=>{\r\n//         dispatch(toggleFollowingProgress(true,userId));\r\n//         let response=await usersAPI.unfollow(userId);\r\n//         if (response.data.resultCode == 0){\r\n//             dispatch(unfollowSuccess(userId));\r\n//         }\r\n//         dispatch(toggleFollowingProgress(false,userId));\r\n//     }\r\n// }\r\n\r\nexport default usersReducer;","\r\nlet initialState={};\r\n\r\nconst  sidebarReducer = (state=initialState, action) => {\r\n    return state;\r\n}\r\nexport default sidebarReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\n\r\nlet initialState = {\r\n   userId:null,\r\n    email:null,\r\n    login:null,\r\n    isAuth: false\r\n    // isFetching:false\r\n};\r\n const  authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {...state,\r\n                ...action.payload\r\n\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>({  type: SET_USER_DATA,\r\n    payload:{userId, email, login, isAuth} });\r\n\r\nexport const getAuthUserData = () => async (dispatch) =>{\r\n   let response =  await  authAPI.me()\r\n\r\n            if (response.data.resultCode === 0){\r\n                let {id, login, email} =response.data.data;\r\n                dispatch(setAuthUserData(id, email, login,true));\r\n            }\r\n\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) =>{\r\n    let response= await authAPI.login(email, password, rememberMe);\r\n                    if (response.data.resultCode === 0){\r\n                dispatch(getAuthUserData())\r\n            }\r\n            else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0]:\"Some error\"\r\n                dispatch(stopSubmit(\"login\", {_error:message}))}\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch) =>{\r\n    let response=await authAPI.logout();\r\n\r\n            if (response.data.resultCode === 0){\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n\r\n}\r\n\r\nexport default authReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n   initializedSuccess:false\r\n};\r\n const  appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {...state,\r\n                initialized: true\r\n\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () =>({  type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) =>{\r\nlet promise= dispatch(getAuthUserData())\r\n    Promise.all([promise]).then(()=>{\r\n        dispatch(initializedSuccess())\r\n    })\r\n\r\n\r\n}\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport sidebarReducer from \"./sidebar\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers= combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form:formReducer,\r\n    app:appReducer\r\n\r\n});\r\n\r\n//import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,  composeEnhancers(\r\n    applyMiddleware(thunkMiddleWare)\r\n));\r\n\r\n\r\nwindow._store_ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Dialogs</NavLink>\r\n            </div>\r\n\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from \"./News.module.css\";\r\n\r\n\r\nconst News= (props) => {\r\n    return (\r\n         <div >\r\n            News\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from \"./Music.module.css\";\r\n\r\n\r\nconst Music= (props) => {\r\n    return (\r\n         <div >\r\n            Music\r\n\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from \"./Settings.module.css\";\r\n\r\n\r\nconst Settings= (props) => {\r\n    return (\r\n         <div >\r\n            Settings\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n    return <header className={s.header}>\r\n        <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png' />\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logout}>Logout</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport { logout} from \"../../redux/auth-reducer\";\r\nimport {authAPI} from \"../../api/api\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n\r\n    render () {\r\n        return <Header {...this.props}  />\r\n    }\r\n}\r\nconst mapStateToProps =(state)=>({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n\r\n});\r\nexport default connect(mapStateToProps,{ logout}) (HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from './../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Email'} name={\"email\"}\r\n                       validate={[required ]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"} name={\"password\"} type={\"password\"}\r\n                       validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/> remember me\r\n            </div>\r\n            {props.error && <div className={style.formSummaryError}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n}) (LoginForm)\r\n\r\nconst Login =(props) => {\r\n    const onSubmit = (formData) =>{\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if(props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\nconst mapStateToProps =(state) =>({\r\n    isAuth:state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\n\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {getAuthUserData, logout} from \"./redux/auth-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport mapDispatchToProps from \"react-redux/lib/connect/mapDispatchToProps\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n// import UsersContainer from \"./components/Users/UsersContainer\";\r\nconst DialogsContainer = React.lazy(()=>import(\"./components/Dialogs/DialogsContainer\"));\r\nconst ProfileContainer = React.lazy(()=>import(\"./components/Profile/ProfileContainer\"));\r\nconst UsersContainer = React.lazy(()=>import(\"./components/Users/UsersContainer\"));\r\n\r\nclass App extends Component {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.initializeApp();\r\n\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized){\r\n        return <Preloader/>}\r\n\r\n\r\n        return (\r\n\r\n            < div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs'\r\n                           render={() =>{\r\n                        return <React.Suspense fallback={<div>Loading...</div>}> <DialogsContainer/>\r\n                        </React.Suspense> }}/>\r\n\r\n                    {/*<Route path='/profile:userId?' render={() =>*/}\r\n                    {/*    <ProfileContainer/>}/>*/}\r\n\r\n                        <Route path='/profile:userId?' render={() =>{\r\n                            return <React.Suspense fallback={<div>Loading...</div>}> <ProfileContainer/>\r\n                            </React.Suspense> }}/>\r\n\r\n                    <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n\r\n                    <Route path='/Login' render={() =>\r\n                        <LoginPage/>}/>\r\n                    <Route path='/news' component={News}/>\r\n                    <Route path='/music' component={Music}/>\r\n                    <Route path='/settings' component={Settings}/>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose (\r\n    withRouter,\r\n    connect(mapStateToProps,{initializeApp})) (App);\r\nlet MainApp=(props)=>{\r\n    return <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={ store}>\r\n            <AppContainer\r\n            />\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default MainApp;","import React from \"react\";\r\n\r\n\r\n\r\n\r\nexport  const withSuspense=(Component) =>{\r\n    return (props) =>{\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import Reactotron from 'reactotron-react-js'\r\n\r\nReactotron\r\n    .configure() // we can use plugins here -- more on this later\r\n    .connect() // let's connect!","import React from 'react';\r\n\r\nimport store from \"./redux/redux-store\";\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nimport './ReactotronConfig'\r\n\r\n\r\n\r\n    ReactDOM.render(\r\n            <MainApp/>\r\n        , document.getElementById('root'));\r\n\r\n\r\n\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/orig.95c92a3c.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2YbTG\",\"error\":\"FormsControls_error__20JMF\",\"formSummaryError\":\"FormsControls_formSummaryError__1h5Ko\"};","import React from \"react\";\r\nimport styles from './FormsControls.module.css';\r\n\r\nconst FormControl = ({input, meta, child, ...props}) =>{\r\n    const hasError=meta.touched && meta.error;\r\n    return(\r\n        <div className={styles.formControl + \" \" +(hasError? styles.error:\"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span> {meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n const {input, meta, child, ...restProps} = props;\r\n    return <FormControl{...props}><textarea {...input} {...restProps}/></FormControl>\r\n\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl{...props}><input {...input} {...restProps}/></FormControl>\r\n}","export const required=value=>{\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\nexport const maxLengthCreator= (maxLength)=> (value)=>{\r\n    if ( value.length >maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1gPR2\",\"loginBlock\":\"Header_loginBlock__2-3O-\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts:[\r\n        {id: 1, message:'Hello', likesCount: 12},\r\n        {id: 2, message:'By', likesCount: 11},\r\n        {id: 3, message:'By', likesCount: 11},\r\n        {id: 4, message:'By', likesCount: 11},\r\n        {id: 5, message:'By', likesCount: 11}\r\n    ],\r\n        profile:null,\r\n    status:\"\"\r\n};\r\n\r\nconst  profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost ={\r\n                id:7,\r\n                message: action.newPostText,\r\n                likesCount:0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts : [...state.posts, newPost],\r\n                newPostText : ''\r\n            };\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return  {\r\n                ...state,\r\n                status : action.status\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile:action.profile}\r\n        }\r\n\r\n        case DELETE_POST:\r\n            return {...state, posts:state.posts.filter(p=>p.id!=action.postId)}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setUserProfile = (profile) =>({  type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) =>({  type: SET_STATUS, status})\r\nexport const deletePost = (postId) =>({  type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) =>{\r\n    let response=await usersAPI.getProfile(userId);\r\n\r\n            dispatch(setUserProfile(response.data));\r\n\r\n}\r\nexport const getStatus = (userId) => async (dispatch) =>{\r\n    let response = await profileAPI.getStatus(userId);\r\n                    dispatch(setStatus(response.data));\r\n        }\r\nexport const updateStatus = (status) => async (dispatch) =>{\r\n    let response = await profileAPI.updateStatus(status)\r\n                    if (response.data.resultCode === 0){\r\n            dispatch(setStatus(status));\r\n            }\r\n        }\r\nexport const addPostActionCreator = (newPostText) =>({  type: ADD_POST,newPostText})\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState={\r\n    dialogs:[\r\n        {id: 1, name:'Петя'},\r\n        {id: 2, name:'Жора'},\r\n        {id: 3, name:'Вася'},\r\n        {id: 4, name:'Изя'},\r\n        {id: 5, name:'Боря'},\r\n        {id: 6, name:'Коля'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message:'yo hoho'},\r\n        {id: 2, message:'yo'},\r\n        {id: 3, message:'youhaha hoho'},\r\n        {id: 4, message:'yuhoo'},\r\n        {id: 5, message:'haholop'},\r\n        {id: 6, message:'brgh'}\r\n    ]\r\n};\r\nconst  dialogsReducer = (state=initialState, action) => {\r\n        switch (action.type) {\r\n            case SEND_MESSAGE:\r\n                let body = action.newMessageBody;\r\n                return  {\r\n                    ...state,\r\n                    messages:[...state.messages, {id: 7, message: body}]\r\n                };\r\n            default:\r\n                return state;\r\n        }\r\n}\r\nexport const sendMessageCreator = (newMessageBody) =>({  type: SEND_MESSAGE, newMessageBody})\r\nexport default dialogsReducer;","import preloader from \"../../../assets/images/orig.gif\";\r\nimport React from \"react\";\r\n\r\nlet Preloader =(props) => {\r\n   return <div style={{backgroundColor:'white'}}>\r\n        <img src={preloader} /> </div>\r\n}\r\nexport default Preloader;"],"sourceRoot":""}