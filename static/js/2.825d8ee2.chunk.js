(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{331:function(t,e,n){t.exports={item:"MyPosts_item__QaSMT",PostsBlock:"MyPosts_PostsBlock__RKllt",posts:"MyPosts_posts__2WVcp"}},333:function(t,e,n){t.exports={item:"Post_item__cR1AE"}},340:function(t,e,n){"use strict";n.r(e);var a=n(63),r=n(64),s=n(25),o=n(65),u=n(26),i=n(0),c=n.n(i),l=n(37),p=n.n(l),f=n(107),m=(c.a.Component,n(39)),h=function(t){var e=Object(i.useState)(!1),n=Object(m.a)(e,2),a=n[0],r=n[1],s=Object(i.useState)(t.status),o=Object(m.a)(s,2),u=o[0],l=o[1];Object(i.useEffect)(function(){l(t.status)},[t.status]);return c.a.createElement("div",null,!a&&c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){r(!0)}}," ",t.status||"----")),a&&c.a.createElement("div",null,c.a.createElement("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(u)},value:u})))},d=n(38),v=n.n(d),b=function(t){if(!t.profile)return c.a.createElement(f.a,null);return c.a.createElement("div",null,c.a.createElement("div",{className:p.a.descriptionBlock},c.a.createElement("img",{src:t.profile.photos.large||v.a,className:p.a.mainPhoto}),t.isOwner&&c.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}}),c.a.createElement(h,{status:t.status,updateStatus:t.updateStatus})))},P=n(104),E=n(331),g=n.n(E),O=n(333),j=n.n(O),y=function(t){return console.log(t.message),c.a.createElement("div",{className:j.a.item},c.a.createElement("img",{src:"https://yt3.ggpht.com/a/AGF-l79a3_85mX9n-FK3BY0VaRbmdG7YH1IZpCvMRQ=s900-c-k-c0xffffffff-no-rj-mo"}),t.message,c.a.createElement("div",null,c.a.createElement("span",null,"likes"),"  ",t.likescount))},k=n(40),w=n(41),_=n(93),S=n(76),A=c.a.memo(function(t){var e=t.posts.map(function(t){return c.a.createElement(y,{message:t.message,likescount:t.likesCount})});c.a.createRef();return c.a.createElement("div",{className:g.a.PostsBlock},c.a.createElement("h3",null,"My Posts"),c.a.createElement(x,{onSubmit:function(e){t.addPost(e.newPostText)}}),c.a.createElement("div",{className:g.a.posts},e))}),I=Object(_.a)(10),x=function(t){return c.a.createElement("form",{onSubmit:t.handleSubmit},c.a.createElement("div",null,c.a.createElement(k.a,{name:"newPostText",component:S.b,validate:[_.b,I],placeholder:"\u0421\u044e\u0434\u0430 \u043f\u0438\u0448\u0438"})),c.a.createElement("div",null,c.a.createElement("button",null,"Add post")))};x=Object(w.a)({form:"ProfileAddNewPostForm"})(x);var C=A,B=n(17),M=Object(B.b)(function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}},function(t){return{addPost:function(e){t(Object(P.a)(e))}}})(C),N=function(t){return c.a.createElement("div",null,c.a.createElement(b,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus}),c.a.createElement(M,null))},T=(n(105),n(1)),R=(n(10),n(35),n(7)),U=function(t){function e(){return Object(a.a)(this,e),Object(s.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(r.a)(e,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(N,Object.assign({},this.props,{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(c.a.Component);e.default=Object(R.compose)(Object(B.b)(function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}},{getUserProfile:P.d,getStatus:P.c,updateStatus:P.f,savePhoto:P.e}),T.f)(U)},35:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var a=n(63),r=n(64),s=n(25),o=n(65),u=n(26),i=n(0),c=n.n(i),l=n(1),p=n(17),f=function(t){return{isAuth:t.auth.isAuth}},m=function(t){var e=function(e){function n(){return Object(a.a)(this,n),Object(s.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(t,this.props):c.a.createElement(l.a,{to:"/login"})}}]),n}(c.a.Component);return Object(p.b)(f)(e)}},37:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__XOCpe",mainPhoto:"ProfileInfo_mainPhoto__gwyNj"}},38:function(t,e,n){t.exports=n.p+"static/media/ava.6904edef.jpg"},39:function(t,e,n){"use strict";function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,s=void 0;try{for(var o,u=t[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(i){r=!0,s=i}finally{try{a||null==u.return||u.return()}finally{if(r)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return a})}}]);
//# sourceMappingURL=2.825d8ee2.chunk.js.map